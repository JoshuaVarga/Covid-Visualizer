<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Project</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/index.css">
    <script src="/d3.min.js"></script>
</head>

<body>
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <div id="page-container">
        <div id="svg-container"></div>
        <div id="sidebar">
            <button id="collapse">TEST</button>
        </div>
    </div>

    <script src="/d3Choropleth.js"></script>

    <script>
        d3.selectAll("button").on("click", handleButtons);

        let chart;
        d3.queue()
            .defer(d3.json, "/geoData.json")
            .defer(d3.csv, "/covidData.csv")
            .await(function(error, geoData, covidData) {
                if (error) {
                    console.error('Failed to load one or more files: ' + error);
                } else {
                    chart = new Chart()
                        .svgHeight(window.innerHeight)
                        .svgWidth(window.innerWidth)
                        .container('#svg-container')
                        .data([geoData, covidData])
                        .render();
                }
            });

        function handleButtons() {
            let button = d3.select(this);
            console.log(button);
            if (this.id === "collapse") {
                this.style.display = "none";
            };
        }
    </script>

</body>

</html>